<!-- Header -->
<ion-header>
  <ion-grid>
    <ion-row>
      <ion-col size="6">
        <ion-segment [(ngModel)]="selectedTab">
          <ion-segment-button value="orders">
            Orders
          </ion-segment-button>
          <ion-segment-button value="inventory">
            Inventory
          </ion-segment-button>
          <ion-segment-button value="menu">
            Menu
          </ion-segment-button>
        </ion-segment>
      </ion-col>
      <ion-col size="6">
        <!--TODO: Header Logged In & Time -->
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-header>

<!--#region MAIN CONTENT -->
  <ion-content>

  <!--#region ORDERS TAB - PETER -->
    <div *ngIf='selectedTab=="orders"' style="width:100%;height:100%">
      <ion-grid style="width:100%;height:100%">
        <ion-row style="height: 100%;">
          <!-- #region Left Main Column / Incoming Orders -->
          <ion-col size="6" style="height: 100%; border-style: solid; border-width: 5px 5px 0px 0px; border-color: black; background-color: grey;">
            <ion-title style="text-align: center;">Incoming Orders</ion-title>
            <ion-row style="text-align: center;">
              <ion-col class="cell">Customer Name</ion-col>
              <ion-col class="cell">Order Placed</ion-col>
              <ion-col class="cell">Order Items</ion-col>
            </ion-row>
            <ion-content style="height: 81%; text-align: center;">
              <div *ngFor="let order of allOrders">
                <app-incoming-order [order]="order"></app-incoming-order>
              </div>
            </ion-content>
            <!-- #endregion -->
            <!-- #endregion -->
          </ion-col>
          <ion-col size="6" style="height: 30%;border-style: solid; border-width: 5px 5px 0px 0px; border-color: black; background-color: grey;">
            <ion-title style="width: 50%;text-align: center;">Order Summary</ion-title>
            <ion-row><ion-col style="max-width: 100px;"><p>Customer Name:</p></ion-col>
              <p>Grace Hopper</p>
            </ion-row>
            <ion-row><ion-col style="max-width: 100px;"><p>Phone Number:</p></ion-col>
              <p>4162663669</p>
            </ion-row>
            <ion-row><ion-col style="max-width: 100px;"><p>Email Address:</p></ion-col>
              <p>G.Hops@gmail.com</p>
            </ion-row>
            <!-- #endregion -->
            <!-- #region TODO: Accepted Orders -->

            <!-- #endregion -->
          </ion-col>
          <ion-col></ion-col>
          <ion-col size="6" style="height: 30%; border-style: solid; border-width: 5px 5px 0px 0px; border-color: black; background-color: grey;">
            <ion-row style="height: 30%; text-align: center;">
              <ion-col class="cell">Image</ion-col>
              <ion-col class="cell">Order Items</ion-col>
              <ion-col class="cell">QTY</ion-col>
              <ion-col class="cell">Price</ion-col>
              <ion-col class="cell">Discount</ion-col>
              <ion-col class="cell">Total</ion-col>
              <ion-col class="cell">Status</ion-col>
            </ion-row>

            <ion-content style="height: 81%; text-align: center;">

            </ion-content>

          </ion-col>
        </ion-row>
      </ion-grid>
      <!-- #endregion -->
      <ion-col size="6">
        <!-- #region Right main column -->
        <ion-grid>
          <!-- #region TODO: Order Summary -->
          <ion-row>

          </ion-row>
          <!-- #endregion -->

          <!-- #region TODO: Order Summary - Item List -->
          <ion-row>

          </ion-row>
          <!-- #endregion -->

          <!-- #region TODO: Order Summary - Receipt-->
          <ion-row>

          </ion-row>
          <!-- #endregion -->
        </ion-grid>
        <!-- #endregion -->
      </ion-col>
    </div>
  <!--#endregion  -->

  <!--#region INVENTORY TAB - ETHAN -->
  <!--Currently, I'm going to try to match the example we have on Moqups...dummy data included.-->
  <!--This is the table in which all of the inventory will be stored.-->

  <!--Debating on changing this to a list instead of a grid, but for now...-->

  <div *ngIf='selectedTab=="inventory"' style="color: black; width: 100%; height: 100%;">
    <ion-grid>
      <ion-row>
        <ion-col size="4">
          <ion-title>Ingredients</ion-title>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-card>
          <ion-card-header>
            <ion-card-title>Salmon</ion-card-title>
          </ion-card-header>
        
          <ion-card-content>
            Quantity: 156
            Last Purchase Date: 09-25-2021
          </ion-card-content>
        </ion-card>
      </ion-row>

      <ion-row>
        <ion-card>
          <ion-card-header>
            <ion-card-title>Carrots</ion-card-title>
          </ion-card-header>
        
          <ion-card-content>
            Quantity: 127
            Last Purchase Date: 09-15-2021
          </ion-card-content>
        </ion-card>
      </ion-row>
        
      <ion-row>
        <ion-card>
          <ion-card-header>
            <ion-card-title>Rice</ion-card-title>
          </ion-card-header>
        
          <ion-card-content>
            Quantity: 60kg
            Last Purchase Date: 09-25-2021
          </ion-card-content>
        </ion-card>
      </ion-row>

      <ion-row>
        <ion-card>
          <ion-card-header>
            <ion-card-title>Seaweed</ion-card-title>
          </ion-card-header>
        
          <ion-card-content>
            Quantity: 50
            Last Purchase Date: 10-12-2021
          </ion-card-content>
        </ion-card>
      </ion-row>  
    </ion-grid>

    <!--Button to change to purchase supplies and view sources of supplies-->

    <!--ion-button>Purchase / View Sellers</ion-button-->

    <!--TODO: Image and title of the inventory item that is currently selected.-->

  </div>
<!--#endregion -->

  <!--#region MENU TAB - AHMED -->
    <div *ngIf='selectedTab=="menu"' style="color: black; width: 100%; height: 100%;">
      <ion-grid style="height: 100%;">
        <ion-row style="height: 100%;">
          <ion-col size="3.5" style="border-style: solid; border-width: 5px 5px 0px 0px; border-color: black; background-color: white;">
            <ion-title style="text-align: center;">Menu Items</ion-title>
            <ion-searchbar [(ngModel)]="search" (ngModelChange)="onSearchChange($event)"></ion-searchbar>
            <ion-row style="text-align: center;">
              <ion-col class="cell"></ion-col>
              <ion-col class="cell">Item</ion-col>
              <ion-col class="cell">Base Price</ion-col>
            </ion-row>            
            <ion-content style="height: 81%; text-align: center;">
              <div *ngFor="let menuItem of allItems">
                <app-simple-menu-item [menuItem]="menuItem" (click)="changeSelectedItem(menuItem)"></app-simple-menu-item>
              </div>
            </ion-content>
            <ion-button style="text-align: center; width: 100%; font-weight: bold;" color="success" (click)="newItemCreator()">
              +
            </ion-button>
          </ion-col>
          <ion-col size="3" style="border-style: solid; border-width: 5px 5px 0px 0px; border-color: black; background-color: white;">
            <ion-title style="text-align: center;">Item Details</ion-title>
            <ion-row><ion-col style="max-width: 100px;"><p>Japanese:</p></ion-col>
            <ion-input style="border-style: solid; height: 30px; align-self: center;" [value]="currentSelectedItem().name" (ionChange)="updateSelectedItemName($event.target.value)"></ion-input></ion-row>
            <ion-row><ion-col style="max-width: 100px;"><p>English:</p>
            </ion-col><ion-input style="border-style: solid; height: 30px; align-self: center;" [value]="currentSelectedItem().englishName" (ionChange)="updateSelectedItemEnglishName($event.target.value)"></ion-input></ion-row>
            <ion-row><ion-img [src]="currentSelectedItem().image"></ion-img></ion-row>
            <ion-row>
              <ion-button style="width: 99%;">
                <ion-icon lazy="true" slot="start" name="image"></ion-icon>
                <ion-label>Upload Image</ion-label>
                <ion-input type="file" (ionChange)="updateSelectedItemImage($event.target.value)" id="file-input"
                accept="image/png, image/jpeg" style="z-index: 1; opacity: 0; position: absolute; width: 125%;"></ion-input>
              </ion-button>
            </ion-row>
            <ion-row><ion-col style="max-width: 100px;"><p>Price:</p></ion-col>
            <ion-input style="border-style: solid; height: 30px; align-self: center;" [value]="currentSelectedItem().price" (ionChange)="updateSelectedItemPrice($event.target.value)"></ion-input></ion-row>
            <ion-row><ion-col style="max-width: 100px;"><p>Calories:</p></ion-col>
            <ion-input style="border-style: solid; height: 30px; align-self: center;" [value]="currentSelectedItem().calories" (ionChange)="updateSelectedItemCalories($event.target.value)"></ion-input></ion-row>
            <ion-row><ion-col style="max-width: 100px;"><p>Quantity:</p></ion-col>
            <ion-input style="border-style: solid; height: 30px; align-self: center;" [value]="currentSelectedItem().quantity" (ionChange)="updateSelectedItemQuantity($event.target.value)"></ion-input></ion-row>
            <ion-row><ion-col style="max-width: 100px;"><p>Type:</p>
            </ion-col><ion-select placeholder="Select Type" style="border-style: solid; height: 30px; align-self: center;" [value]="currentSelectedItem().type" (ionChange)="updateSelectedItemType($event.target.value)">
              <ion-select-option value="Side Dish">Side Dish</ion-select-option>
              <ion-select-option value="Other">Other</ion-select-option>
            </ion-select></ion-row>
            <ion-row><ion-col style="max-width: 100px;"><p>Prep Time:</p></ion-col>
            <ion-input style="border-style: solid; height: 30px; align-self: center;" [value]="currentSelectedItem().prepTime" (ionChange)="updateSelectedItemPrepTime($event.target.value)"></ion-input></ion-row>
            <ion-col>
              <ion-text style="font-weight: bold;">Recipe Description:</ion-text>
              <ion-textarea style="border-style: solid; height: 9%;" [value]="currentSelectedItem(). recipeDescription" (ionChange)="updateSelectedItemRecipeDescription($event.target.value)"></ion-textarea>
            </ion-col>
          </ion-col>
          <ion-col>
            <ion-row style="height: 50%;">
              <ion-col style="border-style: solid; border-width: 0px 5px 0px 0px; border-color: black; background-color: white;">
                <ion-title style="text-align: center;">Ingredient List
                  <ion-button style="font-weight: bold; height: 20px; margin-top: -10px;" color="success" (click)="newIngredientCreator()">
                    +
                  </ion-button>
                  <ion-button style="font-weight: bold; height: 20px; margin-top: -10px;" color="danger" (click)="removeLastIngredient()">
                    -
                  </ion-button>
                </ion-title>
                <br/>
                <ion-row style="text-align: center;">
                  <ion-col class="cell">Ingredient</ion-col>
                  <ion-col class="cell">Quantity</ion-col>
                  <ion-col class="cell">Units</ion-col>
                </ion-row>
                <ion-content style="height: 81%; text-align: right;">
                  <div *ngFor="let i of currentSelectedItem().ingredients">
                    <ion-row>
                      <ion-col class="cell">{{i.name}}</ion-col>
                      <ion-col class="cell">{{i.quantity}}</ion-col>
                      <ion-col class="cell">{{i.units}}</ion-col>
                    </ion-row>
                  </div>
                </ion-content>
              </ion-col>          
              <ion-col style="background-color: white;">
                <ion-title style="text-align: center;">Analytics</ion-title>
                <br/>
                <ion-content  style="height: 89%; text-align: right;">
                  <ion-row style="font-size: small; text-align: center; height: 33%;">
                    <ion-col style="border-style: solid; border-width: 1px;">Popularity Ranking:<br/>{{currentSelectedItem().popularityRanking}}</ion-col>
                    <ion-col style="border-style: solid; border-width: 1px;">Most Often Paired With:<br/>{{currentSelectedItem().mostOftenPairedWith}}</ion-col>
                  </ion-row>
                  <ion-row style="font-size: small; text-align: center; height: 33%;">
                    <ion-col style="border-style: solid; border-width: 1px;">Daily Orders:<br/>{{currentSelectedItem().dailyOrders}}</ion-col>
                    <ion-col style="border-style: solid; border-width: 1px;">Weekly Orders:<br/>{{currentSelectedItem().weeklyOrders}}</ion-col>
                  </ion-row>
                  <ion-row style="font-size: small; text-align: center; height: 34%;">
                    <ion-col style="border-style: solid; border-width: 1px;">Daily Gross:<br/>{{currentSelectedItem().dailyGross}}</ion-col>
                    <ion-col style="border-style: solid; border-width: 1px;">Weekly Gross:<br/>{{currentSelectedItem().weeklyGross}}</ion-col>
                  </ion-row>
                </ion-content>
              </ion-col>
            </ion-row>
            <ion-row style="height: 50%;">
              <ion-col style="border-style: solid; border-width: 5px 0px 0px 0px; background-color: white;">
                <ion-title style="text-align: center;">Applicable Promotions
                  <ion-button style="font-weight: bold; height: 20px; margin-top: -10px;" color="success" (click)="newPromotionCreator()">
                    +
                  </ion-button>
                  <ion-button style="font-weight: bold; height: 20px; margin-top: -10px;" color="danger" (click)="removeLastPromotion()">
                    -
                  </ion-button>
                </ion-title>
                <ion-row style="font-size: small; text-align: center;">               
                  <ion-col style="border-style: solid; border-width: 1px;">Enabled</ion-col>
                  <ion-col style="border-style: solid; border-width: 1px;">Description</ion-col>
                  <ion-col style="border-style: solid; border-width: 1px;">Requirements</ion-col>
                  <ion-col style="border-style: solid; border-width: 1px;">Deal Type</ion-col>
                  <ion-col style="border-style: solid; border-width: 1px;">Discount Amount</ion-col>
                  <ion-col style="border-style: solid; border-width: 1px;">Items Applicable</ion-col>
                  <ion-col style="border-style: solid; border-width: 1px;">Limitations</ion-col>
                </ion-row>
                <ion-content style="height: 84%; text-align: right;">
                  <div *ngFor="let p of currentSelectedItem().promotions">
                    <ion-row style="font-size: small; text-align: center;">
                      <ion-col class="cell"><ion-checkbox [checked]="p.enabled" value="b" (ionChange)="updateItemPromotionEnabled(p, !p.enabled)"></ion-checkbox></ion-col>
                      <ion-col class="cell">{{p.description}}</ion-col>
                      <ion-col class="cell">{{p.requirements}}</ion-col>
                      <ion-col class="cell">{{p.dealType}}</ion-col>
                      <ion-col class="cell">{{p.discountAmount}}</ion-col>
                      <ion-col class="cell">{{p.itemsApplicable}}</ion-col>
                      <ion-col class="cell">{{p.limitations}}</ion-col>
                    </ion-row>
                  </div>
                </ion-content>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
  <!--#endregion -->

  <!--#region REPORTS TAB - JUGAL -->
    <div *ngIf='selectedTab=="reports"'>
      <!-- Show inventory sales within a time period. -->
      <!-- Show the most popular/trending items -->
      <!-- Show number of customers -->
      <!-- Show inventory used -->
      <ion-title>reports</ion-title>
    </div>
  <!--#endregion -->

<!-- #endregion -->
</ion-content>
